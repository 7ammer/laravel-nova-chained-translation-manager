!function(t){var e={};function n(s){if(e[s])return e[s].exports;var a=e[s]={i:s,l:!1,exports:{}};return t[s].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e){t.exports=function(t,e,n,s,a,i){var r,o=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(r=t,o=t.default);var c,u="function"==typeof o?o.options:o;if(e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),a&&(u._scopeId=a),i?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},u._ssrRegister=c):s&&(c=s),c){var d=u.functional,p=d?u.render:u.beforeCreate;d?(u._injectStyles=c,u.render=function(t,e){return c.call(e),p(t,e)}):u.beforeCreate=p?[].concat(p,c):[c]}return{esModule:r,exports:o,options:u}}},function(t,e,n){n(2),t.exports=n(20)},function(t,e,n){Nova.booting(function(t,e,s){e.addRoutes([{name:"nova-translation-manager",path:"/translation-manager",component:n(3)}]),t.config.devtools=!0})},function(t,e,n){var s=n(0)(n(4),n(19),!1,null,null,null);t.exports=s.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(5),a=n.n(s),i=n(16),r=n.n(i);function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}e.default={components:{"editable-input":a.a,"checkbox-input":r.a},props:{resourceName:{type:String,default:"translation"},singularName:{type:String,default:"translation"}},data:function(){return{initialLoading:!0,translations:null,search:null,groups:[],locales:[],field:null,value:null,selected:{locales:[],groups:[]},onlyMissing:!1}},computed:{filteredTranslations:function(){var t=this;return this.translations.filter(function(e){var n=e.translations;return!t.onlyMissing||Object.keys(n).length<t.locales.length}).filter(function(e){var n=e.translations;return!t.selected.locales.lentgh||!!t.selected.locales.find(function(t){return!n[t]})}).filter(function(e){var n=e.group;return!t.selected.groups.length||t.selected.groups.includes(t.normalizeGroup(n))}).filter(this.filterGroup).filter(function(e){var n=e.key,s=e.translations;if(t.search){var a=t.selected.locales.length?t.selected.locales:t.locales.map(function(t){return t.locale});return n.toLowerCase().includes(t.search.toLowerCase())||a.find(function(e){return s[e]&&s[e].toLowerCase&&s[e].toLowerCase().includes(t.search.toLowerCase())})}return!0})},onlyMissingTranslations:function(){return this.translations.filter(function(t){var e=t.translations;return Object.keys(e).length<3})}},created:function(){this.getTranslations()},methods:{toggleGroups:function(t){this.toggle("groups",t)},toggleLocales:function(t){this.toggle("locales",t)},toggle:function(t,e){"string"!=typeof e?this.selected[t].length===this[t].length?this.selected[t]=[]:this.selected[t]=this[t].map(function(t){return t.locale?t.locale:t}).sort():this.selected[t].includes(e)?this.selected[t]=this.selected[t].filter(function(t){return t!==e}):this.selected[t]=[].concat(o(this.selected[t]),[e]).sort()},normalizeGroup:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("/")[0]},filterGroup:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.group?"single"!==this.normalizeGroup(t.group):"single"!==this.normalizeGroup(t)},getTranslations:function(){var t=this;Nova.request().get("/nova-vendor/translation-manager/translations/",{params:{group:this.group,search:this.search}}).then(function(e){var n=e.data,s=n.groups,a=n.languages,i=n.translations;t.groups=s.map(t.normalizeGroup).filter(t.filterGroup).reduce(function(t,e){return t.includes(e)?t:[].concat(o(t),[e])},[]),t.locales=a,t.translations=i&&i.data}).then(!this.selected.locales.length&&this.toggleLocales).then(!this.selected.groups.length&&this.toggleGroups).then(function(){t.initialLoading=!1})},submit:function(t){Nova.request().put("/nova-vendor/translation-manager/translations/",t).then(this.cancelEdit).then(this.getTranslations)},cancel:function(){this.field=null}}}},function(t,e,n){var s=n(0)(n(11),n(15),!1,function(t){n(6)},"data-v-477c9227",null);t.exports=s.exports},function(t,e,n){var s=n(7);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);n(9)("01062699",s,!0,{})},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,".editable-input[data-v-477c9227]{background-color:#eee}.value>svg[data-v-477c9227]{opacity:0;-webkit-transition-property:opacity;transition-property:opacity;-webkit-transition-duration:.5s;transition-duration:.5s}.value:hover>svg[data-v-477c9227]{opacity:1}",""])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",s=t[3];if(!s)return n;if(e&&"function"==typeof btoa){var a=(r=s,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),i=s.sources.map(function(t){return"/*# sourceURL="+s.sourceRoot+t+" */"});return[n].concat(i).concat([a]).join("\n")}var r;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var s={},a=0;a<this.length;a++){var i=this[a][0];"number"==typeof i&&(s[i]=!0)}for(a=0;a<t.length;a++){var r=t[a];"number"==typeof r[0]&&s[r[0]]||(n&&!r[2]?r[2]=n:n&&(r[2]="("+r[2]+") and ("+n+")"),e.push(r))}},e}},function(t,e,n){var s="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!s)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a=n(10),i={},r=s&&(document.head||document.getElementsByTagName("head")[0]),o=null,l=0,c=!1,u=function(){},d=null,p="data-vue-ssr-id",f="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(t){for(var e=0;e<t.length;e++){var n=t[e],s=i[n.id];if(s){s.refs++;for(var a=0;a<s.parts.length;a++)s.parts[a](n.parts[a]);for(;a<n.parts.length;a++)s.parts.push(v(n.parts[a]));s.parts.length>n.parts.length&&(s.parts.length=n.parts.length)}else{var r=[];for(a=0;a<n.parts.length;a++)r.push(v(n.parts[a]));i[n.id]={id:n.id,refs:1,parts:r}}}}function g(){var t=document.createElement("style");return t.type="text/css",r.appendChild(t),t}function v(t){var e,n,s=document.querySelector("style["+p+'~="'+t.id+'"]');if(s){if(c)return u;s.parentNode.removeChild(s)}if(f){var a=l++;s=o||(o=g()),e=b.bind(null,s,a,!1),n=b.bind(null,s,a,!0)}else s=g(),e=function(t,e){var n=e.css,s=e.media,a=e.sourceMap;s&&t.setAttribute("media",s);d.ssrId&&t.setAttribute(p,e.id);a&&(n+="\n/*# sourceURL="+a.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,s),n=function(){s.parentNode.removeChild(s)};return e(t),function(s){if(s){if(s.css===t.css&&s.media===t.media&&s.sourceMap===t.sourceMap)return;e(t=s)}else n()}}t.exports=function(t,e,n,s){c=n,d=s||{};var r=a(t,e);return h(r),function(e){for(var n=[],s=0;s<r.length;s++){var o=r[s];(l=i[o.id]).refs--,n.push(l)}e?h(r=a(t,e)):r=[];for(s=0;s<n.length;s++){var l;if(0===(l=n[s]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete i[l.id]}}}};var m,_=(m=[],function(t,e){return m[t]=e,m.filter(Boolean).join("\n")});function b(t,e,n,s){var a=n?"":s.css;if(t.styleSheet)t.styleSheet.cssText=_(e,a);else{var i=document.createTextNode(a),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(i,r[e]):t.appendChild(i)}}},function(t,e){t.exports=function(t,e){for(var n=[],s={},a=0;a<e.length;a++){var i=e[a],r=i[0],o={id:t+":"+a,css:i[1],media:i[2],sourceMap:i[3]};s[r]?s[r].parts.push(o):n.push(s[r]={id:r,parts:[o]})}return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(12),a=n.n(s);e.default={components:{"editable-input-field":a.a},props:{editing:{type:Boolean,default:!1},locale:{type:String,default:""},translation:{type:Object,default:null}},computed:{value:function(){return this.translation&&this.translation.translations?this.translation.translations[this.locale]:""},name:function(){return this.translation&&this.translation.id?this.translation.id+"_"+this.locale:""},translationKey:function(){return this.translation?this.translation.key:""},group:function(){return this.translation?this.translation.group:""}},methods:{handleEdit:function(){this.$emit("toggle")},handleSave:function(t){this.$emit("submit",{group:this.group,locale:this.locale,key:this.translationKey,value:t})},handleCancel:function(){this.$emit("cancel")}}}},function(t,e,n){var s=n(0)(n(13),n(14),!1,null,null,null);t.exports=s.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{value:{type:String,default:""}},data:function(){return{input:""}},mounted:function(){this.$refs.input.select(),this.input=this.value},methods:{save:function(){this.$emit("save",this.input)},cancel:function(){this.$emit("cancel")}}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"editable-input-field"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],ref:"input",staticClass:"w-full form-control form-input form-input-bordered",attrs:{type:"text"},domProps:{value:t.input},on:{input:function(e){e.target.composing||(t.input=e.target.value)}}}),t._v(" "),n("div",{staticClass:"flex justify-end items-center my-3"},[n("button",{staticClass:"btn btn-link dim cursor-pointer text-80 mr-6",attrs:{type:"button"},on:{click:t.cancel}},[n("span",[t._v("\n                "+t._s(t.__("cancel"))+"\n            ")])]),t._v(" "),n("button",{staticClass:"btn btn-default btn-primary inline-flex items-center relative",attrs:{type:"button"},on:{click:t.save}},[n("span",[t._v("\n                "+t._s(t.__("save"))+"\n            ")])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{ref:"input",staticClass:"block",class:{"editable-input my-1 px-3 py-1 rounded-lg":t.editing},attrs:{for:t.name,tabindex:"0"},on:{focus:t.handleEdit}},[t.editing?n("span",{staticClass:"block my-1 leading-tight text-80"},[t._v("\n        "+t._s(t.locale.toUpperCase())+" - "+t._s(t.translationKey)+"\n    ")]):t._e(),t._v(" "),t.editing?n("editable-input-field",{staticClass:"w-full",attrs:{value:t.value,type:"text"},on:{save:t.handleSave,cancel:t.handleCancel}}):n("span",{staticClass:"flex cursor-pointer value hover:bg-gray-200"},[n("div",{staticClass:"w-2/12 uppercase"},[t._v("\n            "+t._s(t.locale)+"\n        ")]),t._v(" "),n("div",[t.value?[n("button",{staticClass:"flex items-baseline text-blue-500 hover:underline",on:{click:t.handleEdit}},[n("span",[t._v("\n                        "+t._s(t.value)+"\n                    ")])])]:[n("button",{staticClass:"flex text-blue-500 underline",on:{click:t.handleEdit}},[n("span",{staticClass:"pr-3"},[n("icon",{attrs:{type:"add"}})],1),t._v(" "),n("span",[t._v("\n                        "+t._s(t.__("add translation"))+"\n                    ")])])]],2),t._v(" "),n("icon",{staticClass:"ml-2 text-blue-500",attrs:{type:"edit"}})],1)],1)},staticRenderFns:[]}},function(t,e,n){var s=n(0)(n(17),n(18),!1,null,null,null);t.exports=s.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{checked:{type:Boolean,default:!1},value:{type:String,default:null},text:{type:String,default:null},onToggle:{type:Function,default:null}},methods:{handleToggle:function(){this.onToggle(this.value)}}}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("checkbox-with-label",{attrs:{checked:this.checked},on:{input:this.handleToggle}},[this._v("\n    "+this._s(this.text)+"\n")])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("loading-view",{attrs:{loading:t.initialLoading}},[n("heading",{staticClass:"mb-3",attrs:{level:1}},[t._v("\n        "+t._s(t.__("Languages"))+"\n    ")]),t._v(" "),n("div",{staticClass:"flex "},[n("div",{staticClass:"relative mb-6 h-9 flex-no-shrink"},[n("icon",{staticClass:"absolute ml-3 search-icon-center text-70",attrs:{type:"search"}}),t._v(" "),n("label",{attrs:{for:"search"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"shadow appearance-none form-search w-search pl-search",attrs:{placeholder:t.__("Search text"),type:"search",name:"search"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})])],1),t._v(" "),n("checkbox-with-label",{staticClass:"mb-6 ml-3",attrs:{checked:t.onlyMissing},on:{input:function(e){t.onlyMissing=!t.onlyMissing}}},[t._v("\n            "+t._s(t.__("Only show missing translations"))+"\n        ")]),t._v(" "),n("div",{staticClass:"ml-auto"},[n("dropdown",{staticClass:"mb-6 rounded bg-30 hover:bg-40"},[n("dropdown-trigger",{staticClass:"px-3"},[t._v("\n                    "+t._s(t.__("Select group"))+"\n                ")]),t._v(" "),n("dropdown-menu",{attrs:{slot:"menu",direction:"rtl",width:"250"},slot:"menu"},[n("div",{staticClass:"p-4"},[n("ul",{staticClass:"list-reset"},[n("li",{staticClass:"flex items-center mb-4"},[n("checkbox-with-label",{attrs:{checked:t.selected.groups.length===t.groups.length},on:{input:t.toggleGroups}},[t._v("\n                                    "+t._s(t.__("Select All"))+"\n                                ")])],1),t._v(" "),t._l(t.groups,function(e){return n("li",{key:e,staticClass:"flex items-center mb-4"},[n("checkbox-input",{attrs:{value:e,text:e,checked:t.selected.groups.includes(e),"on-toggle":t.toggleGroups}})],1)})],2)])])],1)],1),t._v(" "),n("div",{staticClass:"ml-2"},[n("dropdown",{staticClass:"mb-6 rounded bg-30 hover:bg-40"},[n("dropdown-trigger",{staticClass:"px-3"},[t._v("\n                    "+t._s(t.__("Select languages"))+"\n                ")]),t._v(" "),n("dropdown-menu",{attrs:{slot:"menu",direction:"rtl",width:"250"},slot:"menu"},[n("div",{staticClass:"p-4"},[n("ul",{staticClass:"list-reset"},[n("li",{staticClass:"flex items-center mb-4"},[n("checkbox-with-label",{attrs:{checked:t.selected.locales.length===t.locales.length},on:{input:t.toggleLocales}},[t._v("\n                                    "+t._s(t.__("Select All"))+"\n                                ")])],1),t._v(" "),t._l(t.locales,function(e){return n("li",{key:e.locale,staticClass:"flex items-center mb-4"},[n("checkbox-input",{attrs:{value:e.locale,text:e.language,checked:t.selected.locales.includes(e.locale),"on-toggle":t.toggleLocales}})],1)})],2)])])],1)],1)],1),t._v(" "),t.translations?t._l(t.filteredTranslations,function(e){return n("card",{key:e.key,staticClass:"px-4 py-2 my-2"},[n("div",{staticClass:"flex mr-6 font-bold no-underline border-b text-90"},[n("div",{staticClass:"w-2/12"},[t._v("\n                    "+t._s(e.group.toUpperCase())+"\n                ")]),t._v(" "),n("div",{staticClass:"w-10/12"},[t._v("\n                    "+t._s(e.key)+"\n                ")])]),t._v(" "),t.selected.locales.length?n("div",{staticClass:"my-3"},t._l(t.selected.locales.map(function(t){return t}).sort(),function(s){return n("editable-input",{key:s,attrs:{locale:s,translation:e,editing:t.field===e.id+"_"+s},on:{toggle:function(n){t.field=e.id+"_"+s},submit:t.submit,cancel:t.cancel}})}),1):n("div",{staticClass:"my-3"},t._l(t.locales.map(function(t){return t.locale}).sort(),function(s){return n("editable-input",{key:s,attrs:{locale:s,translation:e,editing:t.field===e.id+"_"+s},on:{toggle:function(n){t.field=e.id+"_"+s},submit:t.submit,cancel:t.cancel}})}),1)])}):t._e()],2)},staticRenderFns:[]}},function(t,e){}]);