!function(t){var e={};function n(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e){t.exports=function(t,e,n,s,r,a){var i,o=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(i=t,o=t.default);var c,u="function"==typeof o?o.options:o;if(e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),r&&(u._scopeId=r),a?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=c):s&&(c=s),c){var d=u.functional,p=d?u.render:u.beforeCreate;d?(u._injectStyles=c,u.render=function(t,e){return c.call(e),p(t,e)}):u.beforeCreate=p?[].concat(p,c):[c]}return{esModule:i,exports:o,options:u}}},function(t,e,n){n(2),t.exports=n(20)},function(t,e,n){Nova.booting(function(t,e,s){e.addRoutes([{name:"nova-translation-manager",path:"/translation-manager",component:n(3)}]),t.config.devtools=!0})},function(t,e,n){var s=n(0)(n(4),n(19),!1,null,null,null);t.exports=s.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(5),r=n.n(s),a=n(16),i=n.n(a),o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],s=!0,r=!1,a=void 0;try{for(var i,o=t[Symbol.iterator]();!(s=(i=o.next()).done)&&(n.push(i.value),!e||n.length!==e);s=!0);}catch(t){r=!0,a=t}finally{try{!s&&o.return&&o.return()}finally{if(r)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function l(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}e.default={components:{"editable-input":r.a,"checkbox-input":i.a},props:{resourceName:{type:String,default:"translation"},singularName:{type:String,default:"translation"}},data:function(){return{initialLoading:!0,translations:null,search:null,groups:[],locales:[],field:null,value:null,selected:{locales:[],groups:[]},onlyMissing:!1}},computed:{filteredTranslations:function(){var t=this;return this.translations&&this.translations.filter(function(e){var n=e.translations;return!t.onlyMissing||Object.keys(n).length<t.locales.length}).filter(function(e){var n=e.translations;return!t.selected.locales.lentgh||!!t.selected.locales.find(function(t){return!n[t]})}).filter(function(e){var n=e.group;return!t.selected.groups.length||t.selected.groups.includes(t.normalizeGroup(n))}).filter(this.filterGroup).filter(function(e){var n=e.key,s=e.translations;if(t.search){var r=t.selected.locales.length?t.selected.locales:t.locales.map(function(t){return t.locale});return n.toLowerCase().includes(t.search.toLowerCase())||r.find(function(e){return s[e]&&s[e].toLowerCase&&s[e].toLowerCase().includes(t.search.toLowerCase())})}return!0}).sort(function(t,e){return t.key>e.key?1:-1})},onlyMissingTranslations:function(){return this.translations.filter(function(t){var e=t.translations;return Object.keys(e).length<3})}},created:function(){this.getTranslations()},methods:{toggleGroups:function(t){this.toggle("groups",t)},toggleLocales:function(t){this.toggle("locales",t)},toggle:function(t,e){"string"!=typeof e?this.selected[t].length===this[t].length?this.selected[t]=[]:this.selected[t]=this[t].map(function(t){return t.locale?t.locale:t}).sort():this.selected[t].includes(e)?this.selected[t]=this.selected[t].filter(function(t){return t!==e}):this.selected[t]=[].concat(l(this.selected[t]),[e]).sort()},normalizeGroup:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("/")[0]},filterGroup:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.group?"single"!==this.normalizeGroup(t.group):"single"!==this.normalizeGroup(t)},getTranslations:function(){var t=this;Nova.request().get("/nova-vendor/translation-manager/translations/",{params:{group:this.group,search:this.search}}).then(function(e){var n=e.data,s=n.groups,r=n.languages,a=n.translations;t.groups=s.map(t.normalizeGroup).filter(t.filterGroup).reduce(function(t,e){return t.includes(e)?t:[].concat(l(t),[e])},[]),t.locales=r,t.translations=a&&a.data}).then(!this.selected.locales.length&&this.toggleLocales).then(!this.selected.groups.length&&this.toggleGroups).then(function(){t.initialLoading=!1})},updateTranslations:function(t){var e=this.field.split("_"),n=o(e,2),s=n[0],r=n[1];this.translations.find(function(t){return t.id===s}).translations[r]=t.value,this.cancel()},submit:function(t){var e=this;Nova.request().put("/nova-vendor/translation-manager/translations/",t).then(this.updateTranslations(t)).catch(function(){return e.$toasted.show("Something went wrong!",{type:"error"})})},cancel:function(){this.field=null}}}},function(t,e,n){var s=n(0)(n(11),n(15),!1,function(t){n(6)},"data-v-c6380478",null);t.exports=s.exports},function(t,e,n){var s=n(7);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);n(9)("1eef3b49",s,!0,{})},function(t,e,n){(t.exports=n(8)(!1)).push([t.i,".editable-input[data-v-c6380478]{background-color:#eee}.value>svg[data-v-c6380478]{opacity:0;-webkit-transition-property:opacity;transition-property:opacity;-webkit-transition-duration:.5s;transition-duration:.5s}.value:hover>svg[data-v-c6380478]{opacity:1}",""])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",s=t[3];if(!s)return n;if(e&&"function"==typeof btoa){var r=(i=s,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),a=s.sources.map(function(t){return"/*# sourceURL="+s.sourceRoot+t+" */"});return[n].concat(a).concat([r]).join("\n")}var i;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var s={},r=0;r<this.length;r++){var a=this[r][0];"number"==typeof a&&(s[a]=!0)}for(r=0;r<t.length;r++){var i=t[r];"number"==typeof i[0]&&s[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),e.push(i))}},e}},function(t,e,n){var s="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!s)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r=n(10),a={},i=s&&(document.head||document.getElementsByTagName("head")[0]),o=null,l=0,c=!1,u=function(){},d=null,p="data-vue-ssr-id",f="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(t){for(var e=0;e<t.length;e++){var n=t[e],s=a[n.id];if(s){s.refs++;for(var r=0;r<s.parts.length;r++)s.parts[r](n.parts[r]);for(;r<n.parts.length;r++)s.parts.push(g(n.parts[r]));s.parts.length>n.parts.length&&(s.parts.length=n.parts.length)}else{var i=[];for(r=0;r<n.parts.length;r++)i.push(g(n.parts[r]));a[n.id]={id:n.id,refs:1,parts:i}}}}function v(){var t=document.createElement("style");return t.type="text/css",i.appendChild(t),t}function g(t){var e,n,s=document.querySelector("style["+p+'~="'+t.id+'"]');if(s){if(c)return u;s.parentNode.removeChild(s)}if(f){var r=l++;s=o||(o=v()),e=y.bind(null,s,r,!1),n=y.bind(null,s,r,!0)}else s=v(),e=function(t,e){var n=e.css,s=e.media,r=e.sourceMap;s&&t.setAttribute("media",s);d.ssrId&&t.setAttribute(p,e.id);r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,s),n=function(){s.parentNode.removeChild(s)};return e(t),function(s){if(s){if(s.css===t.css&&s.media===t.media&&s.sourceMap===t.sourceMap)return;e(t=s)}else n()}}t.exports=function(t,e,n,s){c=n,d=s||{};var i=r(t,e);return h(i),function(e){for(var n=[],s=0;s<i.length;s++){var o=i[s];(l=a[o.id]).refs--,n.push(l)}e?h(i=r(t,e)):i=[];for(s=0;s<n.length;s++){var l;if(0===(l=n[s]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete a[l.id]}}}};var m,_=(m=[],function(t,e){return m[t]=e,m.filter(Boolean).join("\n")});function y(t,e,n,s){var r=n?"":s.css;if(t.styleSheet)t.styleSheet.cssText=_(e,r);else{var a=document.createTextNode(r),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(a,i[e]):t.appendChild(a)}}},function(t,e){t.exports=function(t,e){for(var n=[],s={},r=0;r<e.length;r++){var a=e[r],i=a[0],o={id:t+":"+r,css:a[1],media:a[2],sourceMap:a[3]};s[i]?s[i].parts.push(o):n.push(s[i]={id:i,parts:[o]})}return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(12),r=n.n(s);e.default={components:{"editable-input-field":r.a},props:{editing:{type:Boolean,default:!1},locale:{type:String,default:""},translation:{type:Object,default:null}},computed:{value:function(){return this.translation&&this.translation.translations?this.translation.translations[this.locale]:""},name:function(){return this.translation&&this.translation.id?this.translation.id+"_"+this.locale:""},translationKey:function(){return this.translation?this.translation.key:""},group:function(){return this.translation?this.translation.group:""}},methods:{handleEdit:function(){this.$emit("toggle")},handleSave:function(t){this.$emit("submit",{group:this.group,locale:this.locale,key:this.translationKey,value:t})},handleCancel:function(){this.$emit("cancel")}}}},function(t,e,n){var s=n(0)(n(13),n(14),!1,null,null,null);t.exports=s.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{value:{type:String,default:""}},data:function(){return{input:""}},mounted:function(){this.$refs.input.select(),this.input=this.value},methods:{save:function(){this.$emit("save",this.input)},cancel:function(){this.$emit("cancel")}}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"editable-input-field"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],ref:"input",staticClass:"w-full form-control form-input form-input-bordered",attrs:{type:"text"},domProps:{value:t.input},on:{input:function(e){e.target.composing||(t.input=e.target.value)}}}),t._v(" "),n("div",{staticClass:"flex justify-end items-center my-3"},[n("button",{staticClass:"btn btn-link dim cursor-pointer text-80 mr-6",attrs:{type:"button"},on:{click:t.cancel}},[n("span",[t._v("\n                "+t._s(t.__("cancel"))+"\n            ")])]),t._v(" "),n("button",{staticClass:"btn btn-default btn-primary inline-flex items-center relative",attrs:{type:"button"},on:{click:t.save}},[n("span",[t._v("\n                "+t._s(t.__("save"))+"\n            ")])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{ref:"input",staticClass:"block",class:{"editable-input my-1 px-3 py-1 rounded-lg":t.editing},attrs:{for:t.name,tabindex:"0"},on:{focus:t.handleEdit}},[t.editing?n("span",{staticClass:"block my-1 leading-tight text-80"},[t._v("\n    "+t._s(t.locale.toUpperCase())+" - "+t._s(t.translationKey)+"\n  ")]):t._e(),t._v(" "),t.editing?n("editable-input-field",{staticClass:"w-full",attrs:{value:t.value,type:"text"},on:{save:t.handleSave,cancel:t.handleCancel}}):n("span",{staticClass:"flex cursor-pointer value hover:bg-gray-200"},[n("div",{staticClass:"w-2/12 uppercase"},[t._v("\n      "+t._s(t.locale)+"\n    ")]),t._v(" "),n("div",{staticClass:"w-10/12"},[t.value?[n("button",{staticClass:"flex items-baseline text-blue-500 hover:underline",on:{click:t.handleEdit}},[n("span",{staticClass:"text-left"},[t._v("\n            "+t._s(t.value)+"\n          ")])])]:[n("button",{staticClass:"flex text-blue-500 underline",on:{click:t.handleEdit}},[n("span",{staticClass:"pr-3 text-left"},[n("icon",{attrs:{type:"add"}})],1),t._v(" "),n("span",{staticClass:"text-left"},[t._v("\n            "+t._s(t.__("add translation"))+"\n          ")])])]],2),t._v(" "),n("icon",{staticClass:"ml-2 text-blue-500",attrs:{type:"edit"}})],1)],1)},staticRenderFns:[]}},function(t,e,n){var s=n(0)(n(17),n(18),!1,null,null,null);t.exports=s.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{checked:{type:Boolean,default:!1},value:{type:String,default:null},text:{type:String,default:null},onToggle:{type:Function,default:null}},methods:{handleToggle:function(){this.onToggle(this.value)}}}},function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("checkbox-with-label",{attrs:{checked:this.checked},on:{input:this.handleToggle}},[this._v("\n    "+this._s(this.text)+"\n")])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("loading-view",{attrs:{loading:t.initialLoading}},[n("heading",{staticClass:"mb-3",attrs:{level:1}},[t._v("\n    "+t._s(t.__("Translations"))+"\n  ")]),t._v(" "),n("div",{staticClass:"flex"},[n("div",{staticClass:"relative mb-6 h-9 flex-no-shrink"},[n("icon",{staticClass:"absolute ml-3 search-icon-center text-70",attrs:{type:"search"}}),t._v(" "),n("label",{attrs:{for:"search"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"shadow appearance-none form-search w-search pl-search",attrs:{placeholder:t.__("Search text"),type:"search",name:"search"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})])],1),t._v(" "),n("checkbox-with-label",{staticClass:"mb-6 ml-3",attrs:{checked:t.onlyMissing},on:{input:function(e){t.onlyMissing=!t.onlyMissing}}},[t._v("\n      "+t._s(t.__("Only show missing translations"))+"\n    ")]),t._v(" "),n("div",{staticClass:"ml-auto"},[n("dropdown",{staticClass:"mb-6 rounded bg-30 hover:bg-40"},[n("dropdown-trigger",{staticClass:"px-3"},[t._v("\n          "+t._s(t.__("Select group"))+"\n        ")]),t._v(" "),n("dropdown-menu",{attrs:{slot:"menu",direction:"rtl",width:"250"},slot:"menu"},[n("div",{staticClass:"p-4"},[n("ul",{staticClass:"list-reset"},[n("li",{staticClass:"flex items-center mb-4"},[n("checkbox-with-label",{attrs:{checked:t.selected.groups.length===t.groups.length},on:{input:t.toggleGroups}},[t._v("\n                  "+t._s(t.__("Select All"))+"\n                ")])],1),t._v(" "),t._l(t.groups,function(e){return n("li",{key:e,staticClass:"flex items-center mb-4"},[n("checkbox-input",{attrs:{value:e,text:e,checked:t.selected.groups.includes(e),"on-toggle":t.toggleGroups}})],1)})],2)])])],1)],1),t._v(" "),n("div",{staticClass:"ml-2"},[n("dropdown",{staticClass:"mb-6 rounded bg-30 hover:bg-40"},[n("dropdown-trigger",{staticClass:"px-3"},[t._v("\n          "+t._s(t.__("Select languages"))+"\n        ")]),t._v(" "),n("dropdown-menu",{attrs:{slot:"menu",direction:"rtl",width:"250"},slot:"menu"},[n("div",{staticClass:"p-4"},[n("ul",{staticClass:"list-reset"},[n("li",{staticClass:"flex items-center mb-4"},[n("checkbox-with-label",{attrs:{checked:t.selected.locales.length===t.locales.length},on:{input:t.toggleLocales}},[t._v("\n                  "+t._s(t.__("Select All"))+"\n                ")])],1),t._v(" "),t._l(t.locales,function(e){return n("li",{key:e.locale,staticClass:"flex items-center mb-4"},[n("checkbox-input",{attrs:{value:e.locale,text:e.language,checked:t.selected.locales.includes(e.locale),"on-toggle":t.toggleLocales}})],1)})],2)])])],1)],1)],1),t._v(" "),t.filteredTranslations?t._l(t.filteredTranslations,function(e){return n("card",{key:e.key,staticClass:"px-4 py-2 my-2"},[n("div",{staticClass:"flex mr-6 font-bold no-underline border-b text-90"},[n("div",{staticClass:"w-2/12"},[t._v("\n          "+t._s(e.group.toUpperCase())+"\n        ")]),t._v(" "),n("div",{staticClass:"w-10/12"},[t._v("\n          "+t._s(e.key)+"\n        ")])]),t._v(" "),t.selected.locales.length?n("div",{staticClass:"my-3"},t._l(t.selected.locales.map(function(t){return t}).sort(),function(s){return n("editable-input",{key:s,attrs:{locale:s,translation:e,editing:t.field===e.id+"_"+s},on:{toggle:function(n){t.field=e.id+"_"+s},submit:t.submit,cancel:t.cancel}})}),1):n("div",{staticClass:"my-3"},t._l(t.locales.map(function(t){return t.locale}).sort(),function(s){return n("editable-input",{key:s,attrs:{locale:s,translation:e,editing:t.field===e.id+"_"+s},on:{toggle:function(n){t.field=e.id+"_"+s},submit:t.submit,cancel:t.cancel}})}),1)])}):t._e()],2)},staticRenderFns:[]}},function(t,e){}]);